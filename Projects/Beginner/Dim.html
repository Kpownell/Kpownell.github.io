<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dim the Lights</title>

    <!-- Bootstrap -->
    <link href="../../bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Arduino World</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="../../index.html">Home</a></li>

             <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="../../Learn/WhatIsArduino.html">What is Arduino?</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/ElectricityBasics.html">Electricity Basics</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/Hardware.html">Hardware</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/Software.html">Software</a></li>
              </ul>
            </li>

             <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li class="active"><a href="Beginner.html">Beginner</a></li>
                <li class="divider"></li>
                <li><a href="../Intermediate/Intermediate.html">Intermediate</a></li>
                <li class="divider"></li>
                <li><a href="../Advanced/Advanced.html">Advanced</a></li>
                <li class="divider"></li>
                <li><a href="../Shields/Shields.html">Shields</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="../../More/FurtherReading.html">Further Reading</a></li>
                <li class="divider"></li>
                <li><a href="../../More/BeyondArduino.html">Beyond Arduino</a></li>
                <li class="divider"></li>
                <li><a href="../../More/Resources.html">Resouces</a></li>
                <li class="divider"></li>
                <li><a href="../../More/About.html">About</a></li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-xs-2 col-md-2">
          </br></br></br><a href="http://i.imgur.com/DZLps22.jpg"><img class="img-circle-header" src="http://i.imgur.com/DZLps22.jpg" alt="Beginner"></a>
        </div>
        <div class="col-xs-10 col-md-10">
          <div class="page-header">
            </br></br><h1>Dim the Lights</br><small>Create your own lamp to save electricity by only turning on when it's dark out.</small></h1>
          </div><!--/.page-header-->
        </div>
      </div>

      <div class="row"><!--Materials-->
        <div class="col-xs-7 col-med-7">
          <a href="http://i.imgur.com/rIdJas4.png"><img src="http://i.imgur.com/rIdJas4.png" alt="..." style="width:95%;" class="img-thumbnail-project"></a>
        </div>
        <div class="col-xs-5 col-med-5">
          <h3></br></br></br></br>Materials</h3>
          <ul>
            <li>Arduino Uno</li>
            <li>Breadboard and wires</li>
            <li>Common Cathode RGB LED</li>
            <li>10 kohm photoresistor</li>
            <li>3-330 ohm resistors</li>
            <li>1-10 kohm resistor</li>
          </ul>
        </div><!--Materials row-->
      </div>

      <hr class="featurette-divider">

      <div class="row"><!--Breadboard layout-->
        <div class="col-xs-5 col-med-5">
          <h3>Breadboard Layout</h3>
          <ol>
            <li><strong>Photoresistor to breadboard: </strong>For this project, we're going to be using analog components, which means we need to use the analog input pins and the PWM output pins. Connect the photoresistor from the 5V power pin on the Arduino to the 10k resistor and then to ground. Connect a wire from in between the two resistors to an analog pin - we used A0.</li>
            <li><strong>RGB LED (common cathode): </strong>Check the datasheet on your RGB LED to see if it's common anode or common cathode. If it's common cathode, the long leg will connect to ground. Connect the PWM pins 9-11 to the resistors and then to the different colored legs on the LED. Each leg is basically its own LED, so each needs its own resistor.</li>
            <li><strong>RGB LED (common anode): </strong>If your LED is common anode, that means the long leg goes to power instead of ground. You'll hook it into the 5V pin on the Arduino and then hook the legs through resistors to PWM pins 9-11. This tutorial is written for common cathode LEDs just because using common anode makes the code a little backwards, but you can definitely use it if you want to experiment.</li>
            <li><strong>You're done! </strong>Plug your Arduino into the USB port on your computer.</li>
          </ol>
        </div>
        <div class="col-xs-7 col-med-7">
            <a href="http://i.imgur.com/nDb064i.png"><img src="http://i.imgur.com/nDb064i.png" alt="..." style="width:95%;" class="img-thumbnail-project"></a>
        </div>
      </div><!--Breadboard layout row-->

    <hr class="featurette-divider">

    <div class="row"><!--Software-->
      <div class="col-xs-4 col-med-4">
        <a href="http://i.imgur.com/6ejyuNG.png"><img src="http://i.imgur.com/6ejyuNG.png" alt="..." style="width:95%;" class="img-thumbnail-project"></a>
      </div>
      <div class="col-xs-8 col-med-8">
        <h3>Software</h3>
        <ol>
          <li><strong>Getting started: </strong>Create a new sketch and initalize variables to store your photoresistor and LED pins. Remember, when you're using analog pins, you have to declare int photoPin = A0 instead of just 0.
          <li><strong>Setup: </strong>In your first required method, set your LEDs to be output and your photoresistor to be input.</li>
          <li><strong>Read photoresistor input: </strong>The analog pin will read the voltage in between the photoresistor and the normal resistor. Since photoresistance increases with more light, the reading will go down in bright light and up in darkness. What we need to do is convert our analog reading into a value for the LED. Start by storing the anaog value: int photoValue = analogRead(photoPin).</li>
          <li><strong>Interpreting read value: </strong>The photoresistor and the normal resistor create what's called a voltage divider.Basically, when the photoresistor is at its maximum resistance, the voltage will split and drop half across each resistor. When it's at the minumum, all the voltage will drop across the normal resistor. AnalogRead has the capacity to output a value between 0 (no voltage) and 1023 (max voltage). For this program, though, it will be confined to output between 512 (half voltage, when the photoresistor is completely on) and 1023 (max voltage, when the photoresistor is completely off).</li>
          <li><strong>Convert read value to output: </strong>While analogRead will give us a value between 512 and 1023, analogWrite only outputs a value from 0 to 255. We'll use the map function to convert this value. Map takes a lot of arguments: value, fromLow, fromHigh, toLow, toHigh. For this program, we'll use int newValue = map(photoValue, 0, 1023, 0, 255) to convert to the correct range.</li>
          <li><strong>Output to LED: </strong>Now all you have to do is analogWrite(ledPin, newValue) to get your LED to turn up in dim places! If you want a pure white light, output the same value to each pin. For purely red, green, or blue, you can output to only one pin at once. Try mixing colors or giving different pins different strengths!</li>
          <li><strong>Running the program: </strong>Once your program is uploaded, try covering the photoresistor with your finger to see if it works correctly. You can leave your breadboard out for a nightlight or just impress your friends.</li>
          <li><strong>Experiment: </strong>The most obvious extension is to try mixing colors on your RGB LED. You can try other things as well, such as adding a switch so the light isn't always on, changing the value with a potentiometer instead of a photoresistor, or switching your program so it gets brighter as light increases instead of decreases.</li>
        </ol>
      </div>
    </div><!--Software row-->

    <hr class="featurette-divider">

    <div class="row">
      <div class="col-xs-8 col-xs-offset-2 col-med-8 col-med-offset-2">
        <h3>The Finished Product</h3>
        <video controls loop src="dim.mp4" style="width:100%;"></video>
      </div>
    </div>

      </br><hr class="featurette-divider"></br>

      <p>
        <a class="btn btn-primary btn-lg pull-left" role="button" href="Jeopardy.html"><-- Previous: Homemade Jeopardy</a>
        <a class="btn btn-primary btn-lg pull-right" role="button" href="Harmonica.html">Next: Electronic Harmonica --></a>
      </p>

    </div><!--/.container-->

    </br></br></br>
    <div id="footer">
      <div class="container">
        <div class="row">
          <div class="col-xs-1 col-md-1">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0; margin-top:5px;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
          </div>
          <div class="col-xs-4 col-md-4">
            <p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
          </div>
          <div class="col-xs-2 col-md-2"></div>
          <div class="col-xs-5 col-md-5 text-right">
            <p class="text-muted"><em>Header image based on <a href="http://commons.wikimedia.org/wiki/File:Tealights_Stacked.JPG">Tealights Stacked</a> by Ftc08 (CC-BY)</em></p>
            <p class="text-muted">Built on Bootstrap by Kristen Pownell</p>
          </div>
        </div><!--row-->
      </br></br>
      </div>
    </div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>
