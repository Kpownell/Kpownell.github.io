<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Motion Detector</title>

    <!-- Bootstrap -->
    <link href="../../bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <!--NAV BAR-->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Arduino World</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="../../index.html">Home</a></li>

             <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="../../Learn/WhatIsArduino.html">What is Arduino?</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/ElectricityBasics.html">Electricity Basics</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/Hardware.html">Hardware</a></li>
                <li class="divider"></li>
                <li><a href="../../Learn/Software.html">Software</a></li>
              </ul>
            </li>

             <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li class="active"><a href="Beginner.html">Beginner</a></li>
                <li class="divider"></li>
                <li><a href="../Intermediate/Intermediate.html">Intermediate</a></li>
                <li class="divider"></li>
                <li><a href="../Advanced/Advanced.html">Advanced</a></li>
                <li class="divider"></li>
                <li><a href="../Shields/Shields.html">Shields</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="../More/BeyondArduino.html">Beyond Arduino</a></li>
                <li class="divider"></li>
                <li><a href="../More/Links.html">Links</a></li>
                <li class="divider"></li>
                <li><a href="../More/Contact.html">Contact</a></li>
              </ul>
            </li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-xs-2 col-md-2">
          </br></br></br><img class="img-circle" src="http://i.imgur.com/TscMWVC.jpg" alt="Beginner" style="width: 140px; height: 140px;">
        </div>
        <div class="col-xs-10 col-md-10">
          <div class="page-header">
            </br></br><h1>Motion Detector</br><small>Set off an alarm whenever someone passes by!</small></h1>
          </div><!--/.page-header-->
        </div>
      </div>

      <div class="row"><!--Materials-->
        <div class="col-xs-7 col-med-7">
          <img src="http://i.imgur.com/cWqpmk0.png" alt="..." style="width:95%; margin:5%;" class="img-thumbnail">
        </div>
        <div class="col-xs-5 col-med-5">
          <h3></br></br></br>Materials</h3>
          <ul>
            <li>Arduino Uno</li>
            <li>Breadboard and wires</li>
            <li>Red LED</li>
            <li>8 ohm speaker</li>
            <li>10 kohm photoresistor</li>
            <li>100 ohm resistor</li>
            <li>330 ohm resistor</li>
            <li>10 kohm resistor</li>
          </ul>
        </div><!--Materials row-->
      </div>

      <hr class="featurette-divider">

      <div class="row"><!--Breadboard layout-->
        <div class="col-xs-5 col-med-5">
          <h3>Breadboard Layout</h3>
          <ol>
            <li><strong>Pins to breadboard: </strong>For this project, we'll use the amount of light coming in to the photoresistor to set off a blinking LED and a buzzer. Go ahead and set up a ground rail and a power rail on your breadboard.
            <li><strong>LED: </strong>Connect the 330 ohm resistor from pin 9 to the long leg of the LED. Connect the short leg of the LED to ground.</li>
            <li><strong>Speaker: </strong>Connect the 100 ohm resistor from pin 10 to the speaker and then to ground. Speakers allow bidirectional current, so it doesn't matter which direction it's plugged in.</li>
            <li><strong>Photoresistor: </strong>Connect the photoresistor from the power rail to the 10k resistor to ground. Connect a wire from in between the two resistors to pin A0 on the Arduino.</li>
            <li><strong>You're done! </strong>Plug your Arduino into the USB port on your computer.</li>
          </ol>
        </div>
        <div class="col-xs-7 col-med-7">
            <img src="http://i.imgur.com/590n3MR.png" alt="..." style="width:90%;margin-top:5%;" class="img-thumbnail">
        </div>
      </div><!--Breadboard layout row-->

    <hr class="featurette-divider">

    <div class="row"><!--Software-->
      <div class="col-xs-4 col-med-4">
        <img src="http://i.imgur.com/5gSahom.png" alt="..." style="width:90%; margin-left:5%;" class="img-thumbnail">
      </div>
      <div class="col-xs-8 col-med-8">
        <h3>Software</h3>
        <ol>
          <li><strong>Getting started: </strong>Initialize variables for the speaker, LED, and photoresistor. Also include the <a href="pitches.h">pitches.h</a> file by saving it in the same folder as your sketch and then typing #include 'pitches.h' at the top of your sketch. In your setup method, declare the LED and speaker as output and the photoresistor as input. 
          <li><strong>Define motion threshhold: </strong>The photoresistor will give us higher readings when light is blocked. If something moves over it, the shadow will temporarily decrease the light, and the reading will go up. We're going to choose a threshhold value to tell whether something has passed over the photoresistor. A higher value will make your motion detector less sensitive; a lower one will increase sensitivity. Let's choose 800 as a starting point. Up where you initalized your other variables, write int threshold = 800.</li>
          <li><strong>Read photoresistor input: </strong>In your loop method, read in and store the analog photoresistor input. We won't need to map it to anything this time, as we're using it for purely digital purposes.</li>
          <li><strong>Turn on alarm: </strong>We're going to use if statements to check if the stored value is above our threshold. If(value > threshold), first turn on the led with digitalWrite(ledPin, HIGH). Also play a tone to your speaker. We used NOTE_C5 since it's high enough to be annoying, but you can pick any note you want. </li>
          <li><strong>Turn off alarm: </strong>In the else block, turn off your LED with digitalWrite(ledPin, LOW). Also turn off the speaker with noTone(speakerPin). It'll get annoying if you leave it on too long!</li>
          <li><strong>Running the program: </strong>Upload the program and try passing your hand back and forth across the photoresistor to see if the alarm turns on. If it's too sensitive or not sensitive enough, change your threshold value and try again. You can also output the values to the Serial monitor to find a threshold that works.</li>
          <li><strong>Experiment: </strong>Can you make the LED blink instead of just staying on? What about adding more than one photoresistor to increase your accuracy? You can also think about putting the entire setup into a box or something similar so it's more inconspicuous. It depends on how sneaky you want to be!</li>
        </ol>
      </div>
    </div><!--Software row-->

    <hr class="featurette-divider">

    <div class="row">
      <div class="col-xs-8 col-xs-offset-2 col-med-8 col-med-offset-2">
        <h3>The Finished Product</h3>
        <video controls loop src="motion.mp4" style="width:100%;"></video>
      </div>
    </div>

    </div><!--/.container-->

    </br></br></br>
    <hr class="featurette-divider">
    <div id="footer">
      <div class="container">
        <p class="text-muted"><em>Header image based on <a href="https://www.flickr.com/photos/takomabibelot/2134214940/">Burglar Alarm</a> by takomabibelot (CC-BY)</em></p>
        <p class="text-muted">Built on Bootstrap by Kristen Pownell</p>
      </div>
    </div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>